[gd_scene load_steps=15 format=3 uid="uid://bo74cfhrjn5b3"]

[ext_resource type="Script" path="res://src/reactives/reactive_mushroom.gd" id="1_ei4v8"]
[ext_resource type="Script" path="res://david/light-animation.gd" id="2_4ed0j"]
[ext_resource type="PackedScene" uid="uid://dooukoeo0o7ei" path="res://src/reactives/champi.tscn" id="2_xngt5"]
[ext_resource type="AudioStream" uid="uid://dwq4x3yit2knb" path="res://sounds/Son-ouverture champignon.mp3" id="4_728p5"]
[ext_resource type="Script" path="res://src/reactives/reactive_component.gd" id="4_gnm23"]
[ext_resource type="AudioStream" uid="uid://djmodvmjmp5a3" path="res://sounds/Son-rebond-champignon-3.mp3" id="5_xbn0n"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_o8pp1"]
blend_mode = 1

[sub_resource type="Gradient" id="Gradient_cl5ab"]
offsets = PackedFloat32Array(0, 0.6)
colors = PackedColorArray(1, 1, 1, 0.886275, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_j7upu"]
gradient = SubResource("Gradient_cl5ab")
width = 256
height = 256
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="Gradient" id="Gradient_cw16w"]
offsets = PackedFloat32Array(0, 0.721254)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_i41vr"]
gradient = SubResource("Gradient_cw16w")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="CircleShape2D" id="CircleShape2D_104yt"]
resource_local_to_scene = true
radius = 107.174

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o05xm"]
size = Vector2(27.7778, 58.6669)

[sub_resource type="Curve" id="Curve_bao0t"]
_data = [Vector2(0.015625, 0.923077), 0.0, 0.0, 0, 0, Vector2(1, 0.153846), 0.0, 0.0, 0, 0]
point_count = 2

[node name="ReactiveMushroom" type="Node2D"]
position = Vector2(-1, -25)
script = ExtResource("1_ei4v8")

[node name="Light" type="Sprite2D" parent="."]
visible = false
material = SubResource("CanvasItemMaterial_o8pp1")
position = Vector2(0, -11)
texture = SubResource("GradientTexture2D_j7upu")
script = ExtResource("2_4ed0j")

[node name="PointLight2D" type="PointLight2D" parent="Light"]
position = Vector2(0, -2.5)
scale = Vector2(1, 0.234375)
color = Color(0.388235, 1, 1, 1)
texture = SubResource("GradientTexture2D_i41vr")

[node name="Champi" parent="." instance=ExtResource("2_xngt5")]
position = Vector2(1, 2)

[node name="ReactiveComponent" type="Area2D" parent="."]
scale = Vector2(7, 7)
collision_layer = 0
collision_mask = 64
script = ExtResource("4_gnm23")
active_time = 0.1
song_condition = "mushroom"

[node name="CollisionShape2D" type="CollisionShape2D" parent="ReactiveComponent"]
visible = false
shape = SubResource("CircleShape2D_104yt")

[node name="Ground" type="StaticBody2D" parent="."]
position = Vector2(1, -18)
scale = Vector2(2.16, 0.165337)
collision_layer = 9

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ground"]
position = Vector2(-1.03609e-06, 29.3334)
shape = SubResource("RectangleShape2D_o05xm")
one_way_collision = true

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(1, 2)
stream = ExtResource("4_728p5")
volume_db = -15.39

[node name="Particles" type="CPUParticles2D" parent="."]
position = Vector2(1, -7)
emitting = false
amount = 50
lifetime = 0.6
one_shot = true
speed_scale = 1.1
explosiveness = 1.0
randomness = 0.51
lifetime_randomness = 0.71
emission_shape = 3
emission_rect_extents = Vector2(25, 1)
direction = Vector2(0, 1)
spread = 53.91
gravity = Vector2(0, 20)
initial_velocity_max = 245.29
angular_velocity_min = -8.0
angular_velocity_max = 1.3
radial_accel_max = 26.42
scale_amount_min = 2.5
scale_amount_max = 3.5
scale_amount_curve = SubResource("Curve_bao0t")
color = Color(0, 1, 1, 1)
hue_variation_max = 1.0

[node name="BoingPlayer" type="AudioStreamPlayer2D" parent="."]
position = Vector2(1, 2)
stream = ExtResource("5_xbn0n")

[connection signal="activate" from="ReactiveComponent" to="." method="_on_reactive_component_activate"]
[connection signal="deactivate" from="ReactiveComponent" to="." method="_on_reactive_component_deactivate"]
[connection signal="tree_entered" from="Ground/CollisionShape2D" to="." method="_on_collision_shape_2d_tree_entered"]
